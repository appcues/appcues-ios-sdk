{"identifier":{"url":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/AnchoredTooltips","interfaceLanguage":"swift"},"kind":"article","seeAlsoSections":[{"identifiers":["doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/GettingStarted","doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/Identifying","doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/Tracking","doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/URLSchemeConfiguring","doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/Appcues"],"title":"Core Functionality","generated":true}],"schemaVersion":{"major":0,"patch":0,"minor":3},"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/appcueskit\/anchoredtooltips"]}],"abstract":[{"text":"The Appcues iOS SDK supports anchored tooltips targeting views built with ","type":"text"},{"code":"UIKit","type":"codeVoice"},{"type":"text","text":" or "},{"code":"SwiftUI","type":"codeVoice"},{"text":".","type":"text"}],"metadata":{"roleHeading":"Article","role":"article","modules":[{"name":"AppcuesKit"}],"title":"Configuring Views for Anchored Tooltips"},"hierarchy":{"paths":[["doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit"]]},"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","level":2,"anchor":"overview"},{"type":"paragraph","inlineContent":[{"text":"Instrumenting your application views as described below allows the Appcues iOS SDK to create a mobile view selector. This selector is used by the Appcues Mobile Builder to create and target anchored tooltips. When a user qualifies for a flow, this selector is used to render the anchored tooltip content in the correct location.","type":"text"}]},{"type":"heading","anchor":"Instrumenting-UIKit-Views","text":"Instrumenting UIKit Views","level":2},{"inlineContent":[{"type":"text","text":"The following "},{"type":"codeVoice","code":"UIView"},{"type":"text","text":" properties are used to identify elements, in order of precedence:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiaccessibilityidentification\/1623132-accessibilityidentifier"},{"type":"text","text":" - commonly used for Xcode UI testing, and generally a good practice to include on core views in the application to help identify."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiview\/1622493-tag"},{"text":" - an integer value that can be used to identify view objects in your application.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/objectivec\/nsobject\/1615181-accessibilitylabel","type":"reference","isActive":true},{"text":" - a property used in assistive applications, such as VoiceOver, to convey information to users with disabilities, to help them use the app. In addition to being a good practice to use to support core accessibility features on iOS, it can also help with Appcues element targeting. It is considered a lower priority property for selector usage, however, due to the fact that the descriptive strings can often be non-unique throughout the application and they may also be localized to the user’s preferred language and not maintain consistency with the label used when the flow was built.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"At least one identifiable property must be set. Not all are required. The best way to ensure great performance of iOS anchored tooltips in Appcues is to set a unique "},{"type":"codeVoice","code":"accessibilityIdentifier"},{"type":"text","text":" on each "},{"type":"codeVoice","code":"UIView"},{"type":"text","text":" element that may be targeted."}],"type":"paragraph"},{"inlineContent":[{"text":"These properties are available on any UIView derived type, and can be set programmatically in Swift as follows:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let button = UIButton()","button.accessibilityIdentifier = \"btnSaveProfile\"","button.accessibilityLabel = \"Save\"","button.tag = 1234"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"These properties are also available in Xcode Interface Builder, used for Storyboard UI development. Click on the view and select the Identity inspector tab to see the Accessibility section and set related properties. The "},{"type":"codeVoice","code":"tag"},{"text":" is also visible to edit on the Attributes inspector. These properties can also be set using the User Defined Runtime Attributes section of the Identity inspector for a selected element in Interface Builder.","type":"text"}],"type":"paragraph"},{"type":"aside","style":"tip","name":"Tip","content":[{"type":"paragraph","inlineContent":[{"text":"For the common use case of ","type":"text"},{"code":"UITabBarController","type":"codeVoice"},{"type":"text","text":" and its associated "},{"code":"UITabBar","type":"codeVoice"},{"type":"text","text":" items, the Appcues iOS SDK will automatically generate index-based selectors for each item to use for targeting tooltips. No additional code is required in your application if you would like to target the items in a "},{"code":"UITabBar","type":"codeVoice"},{"type":"text","text":" in your application’s screen by index."}]}]},{"anchor":"Instrumenting-SwiftUI-Views","text":"Instrumenting SwiftUI Views","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS Applications using SwiftUI can also identify "},{"code":"View","type":"codeVoice"},{"type":"text","text":" elements. A "},{"type":"codeVoice","code":"View"},{"text":" extension ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/SwiftUI\/View\/appcuesView(identifier:)"},{"type":"text","text":" is provided by the Appcues iOS SDK to support this use case. The "},{"type":"codeVoice","code":"identifier"},{"type":"text","text":" String value must be unique on the screen where an anchored tooltip may be targeted."}]},{"inlineContent":[{"text":"The following example shows how this would be added to a SwiftUI ","type":"text"},{"code":"Button","type":"codeVoice"},{"type":"text","text":" View:"}],"type":"paragraph"},{"code":["Button(\"Save Profile\") {","    onSaveProfile()","}",".appcuesView(identifier: \"btnSaveProfile\")"],"type":"codeListing","syntax":"swift"},{"level":2,"type":"heading","text":"Other Considerations","anchor":"Other-Considerations"},{"level":3,"type":"heading","anchor":"Selector-Uniqueness","text":"Selector Uniqueness"},{"inlineContent":[{"type":"text","text":"Ensure that view identifiers used for selectors are unique within the visible views on the screen at the time an anchored tooltip is attempting to render. If no unique match is found, the Appcues flow will terminate with an error. It is not required that selectors are globally unique across the application, but they must be on any given screen layout."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Using multiple selector properties is another way to ensure uniqueness. For instance, if two views in a layout have the same "},{"code":"accessibilityLabel","type":"codeVoice"},{"type":"text","text":", but different "},{"type":"codeVoice","code":"accessibilityIdentifier"},{"text":" values, a selector will be able to find the unique match by finding the element that matches both properties exactly.","type":"text"}],"type":"paragraph"},{"type":"heading","level":3,"text":"Consistent View Identifiers","anchor":"Consistent-View-Identifiers"},{"type":"paragraph","inlineContent":[{"text":"Maintain consistency with view identifiers as new versions of the app are released. For example, if a button was using an identifier like “Save Profile” in several versions of the application, then changed to “Save” - this would break the ability for selectors using “Save Profile” to be able to find that view and target a tooltip in the newer versions of the app. You could build multiple flows targeting different versions of the application, but it helps keep things simplest if consistent view identifiers can be maintained over time.","type":"text"}]}],"kind":"content"}],"references":{"doc://com.appcues.sdk/documentation/AppcuesKit":{"abstract":[{"type":"text","text":"Appcues iOS SDK allows you to integrate Appcues experiences into your native iOS and iPadOS apps."}],"title":"AppcuesKit","identifier":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit","role":"collection","url":"\/documentation\/appcueskit","type":"topic","kind":"symbol"},"doc://com.appcues.sdk/documentation/AppcuesKit/Identifying":{"title":"Identifying and Managing Users","role":"article","identifier":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/Identifying","kind":"article","type":"topic","url":"\/documentation\/appcueskit\/identifying","abstract":[{"type":"text","text":"In order to target content to the right users at the right time, you need to identify users and send Appcues data about them."}]},"doc://com.appcues.sdk/documentation/AppcuesKit/Tracking":{"title":"Tracking Screens and Events","role":"article","identifier":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/Tracking","kind":"article","type":"topic","url":"\/documentation\/appcueskit\/tracking","abstract":[{"type":"text","text":"Events are the “actions” your users take in your application, which can be anything from clicking a certain button to viewing a specific screen."}]},"https://developer.apple.com/documentation/uikit/uiaccessibilityidentification/1623132-accessibilityidentifier":{"title":"accessibilityIdentifier","url":"https:\/\/developer.apple.com\/documentation\/uikit\/uiaccessibilityidentification\/1623132-accessibilityidentifier","titleInlineContent":[{"type":"codeVoice","code":"accessibilityIdentifier"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiaccessibilityidentification\/1623132-accessibilityidentifier"},"doc://com.appcues.sdk/documentation/AppcuesKit/Appcues":{"kind":"symbol","url":"\/documentation\/appcueskit\/appcues","title":"Appcues","navigatorTitle":[{"text":"Appcues","kind":"identifier"}],"identifier":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/Appcues","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Appcues"}],"abstract":[{"type":"text","text":"An object that manages Appcues tracking and rendering of experience content, for your app."}],"type":"topic"},"https://developer.apple.com/documentation/objectivec/nsobject/1615181-accessibilitylabel":{"titleInlineContent":[{"type":"codeVoice","code":"accessibilityLabel"}],"identifier":"https:\/\/developer.apple.com\/documentation\/objectivec\/nsobject\/1615181-accessibilitylabel","type":"link","title":"accessibilityLabel","url":"https:\/\/developer.apple.com\/documentation\/objectivec\/nsobject\/1615181-accessibilitylabel"},"https://developer.apple.com/documentation/uikit/uiview/1622493-tag":{"title":"tag","url":"https:\/\/developer.apple.com\/documentation\/uikit\/uiview\/1622493-tag","titleInlineContent":[{"type":"codeVoice","code":"tag"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiview\/1622493-tag"},"doc://com.appcues.sdk/documentation/AppcuesKit/SwiftUI/View/appcuesView(identifier:)":{"role":"symbol","title":"appcuesView(identifier:)","url":"\/documentation\/appcueskit\/swiftui\/view\/appcuesview(identifier:)","type":"topic","abstract":[{"type":"text","text":"Associates the view with an identifier for Appcues element targeting."}],"kind":"symbol","identifier":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/SwiftUI\/View\/appcuesView(identifier:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"appcuesView","kind":"identifier"},{"text":"(","kind":"text"},{"text":"identifier","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":"?) -> "},{"text":"some","kind":"keyword"},{"text":" ","kind":"text"},{"text":"View","kind":"typeIdentifier","preciseIdentifier":"s:7SwiftUI4ViewP"}]},"doc://com.appcues.sdk/documentation/AppcuesKit/GettingStarted":{"title":"Getting Started with Appcues iOS SDK","role":"article","identifier":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/GettingStarted","kind":"article","type":"topic","url":"\/documentation\/appcueskit\/gettingstarted","abstract":[{"type":"text","text":"Initialize the SDK and track events."}]},"doc://com.appcues.sdk/documentation/AppcuesKit/URLSchemeConfiguring":{"title":"Configuring the Appcues URL Scheme","role":"article","identifier":"doc:\/\/com.appcues.sdk\/documentation\/AppcuesKit\/URLSchemeConfiguring","kind":"article","type":"topic","url":"\/documentation\/appcueskit\/urlschemeconfiguring","abstract":[{"type":"text","text":"The Appcues iOS SDK includes support for a custom URL scheme that supports previewing Appcues experiences in-app prior to publishing and launching the Appcues debugger."}]}}}